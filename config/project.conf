# =============================================================================
# project.conf — Configuration centralisée du projet Doc QA
#
# Ce fichier regroupe TOUTES les variables configurables du pipeline.
# Il est sourcé par scripts/lib/config.sh et peut être surchargé
# par des variables d'environnement.
#
# Syntaxe : CLÉ=valeur (pas d'espaces autour du =)
# Les lignes commençant par # sont ignorées.
#
# Les variables d'environnement ont priorité sur ce fichier.
# Ex: QA_JIRA_BASE_URL=https://other.atlassian.net make process T=SPEX-1
# =============================================================================

# ── Instance Jira ────────────────────────────────────────────────────────────

# URL de base de l'instance Jira Cloud
JIRA_BASE_URL=https://prestashop-jira.atlassian.net

# Projets Jira à surveiller par défaut
DEFAULT_PROJECTS=SPEX,ACCOUNT,MME,EB,DATA

# Label appliqué après documentation d'un ticket
QA_DOCUMENTED_LABEL=qa-documented

# ── Pipeline ─────────────────────────────────────────────────────────────────

# Nombre maximum de tickets traités par défaut en mode process-all
DEFAULT_MAX_TICKETS=50

# Nombre de traitements parallèles (0 = séquentiel, N = N workers)
PARALLEL_WORKERS=4

# Timeout pour le traitement d'un ticket individuel (secondes)
PROCESS_TIMEOUT=300

# ── Qualité des documents ────────────────────────────────────────────────────

# Taille minimale des fichiers générés (octets)
MIN_FILE_SIZE=200

# Nombre minimum de scénarios dans 03-cas-test.md
MIN_SCENARIOS=2

# Nombre minimum de questions dans 01-questions.md
MIN_QUESTIONS=5

# Nombre minimum de sections H2 dans 02-strategie.md
MIN_SECTIONS_STRATEGY=3

# ── Chemins (rarement modifiés) ──────────────────────────────────────────────

# Répertoire de sortie des projets
PROJETS_SUBDIR=projets

# Répertoire des templates
TEMPLATES_SUBDIR=templates

# Répertoire des fichiers Jira legacy (XML)
JIRA_SUBDIR=Jira

# ── Limites de contenu ───────────────────────────────────────────────────────

# Lignes max de description à inclure dans le contexte
MAX_DESCRIPTION_LINES=200

# Nombre max de scénarios à générer
MAX_SCENARIOS=10

# Nombre max de commentaires Jira à récupérer
MAX_COMMENTS=100

# ── Retry / Réseau ──────────────────────────────────────────────────────────

# Nombre de tentatives pour les appels API
API_MAX_RETRIES=3

# Délai initial entre les tentatives (secondes)
API_RETRY_DELAY=2

# Timeout pour les appels API individuels (secondes)
API_TIMEOUT=30
